{"version":3,"sources":["webpack:///./src/App.vue?47ff","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/router/index.js","webpack:///./src/utils/cookie.js","webpack:///./src/axios/index.js","webpack:///./src/axios/requests.js"],"names":["App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","use","ElementUI","config","productionTip","prototype","$timeChange","time","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","$openBlank","name","params","routeData","arguments","length","undefined","router","resolve","query","window","open","href","el","components","template","Router","_ref","routes","path","redirect","component","e","then","bind","meta","title","children","getTitle","requireAuth","keywordsType","document","beforeEach","asyncToGenerator_default","regenerator_default","a","mark","_callee","to","from","next","_to$meta","userToken","response","wrap","_context","prev","cookie","getCookie","console","log","fetchCheck_token","sent","user_name","alert","replace","t0","stop","_this","_x","_x2","_x3","apply","setCookie","c_name","value","expiredays","exdate","setTime","getTime","setDate","escape","toGMTString","reg","RegExp","match","delCookie","exp","instance","axios","create","queue","cancelToken","CancelToken","token","url","method","removeQueue","i","map","q","indexOf","cancel","splice","interceptors","request","responseType","c","push","headers","Authorization","error","promise_default","reject","data","code","msg","status","post","Content-Type","qs","stringify","fetchLogin","username"],"mappings":"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","file":"static/js/app.e9c8a825b482109db4e1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ca7fb14\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ca7fb14\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ca7fb14\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.use(ElementUI)\n\nVue.config.productionTip = false;\n\nVue.prototype.$timeChange = time => {\n  if (!time) {\n    return '';\n  };\n  var date = new Date(time) //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n  var Y = date.getFullYear() + '-'\n  var M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-'\n  var D = date.getDate() + ' '\n  var h = date.getHours() + ':'\n  var m = date.getMinutes() + ':'\n  var s = date.getSeconds()\n  return Y+M+D+h+m+s\n};\n\nVue.prototype.$openBlank = (name, params, type = 0) => {\n  let routeData = type === 0 ? router.resolve({\n    name,\n    params\n  }) : router.resolve({\n    name,\n    query: params\n  })\n  window.open(routeData.href, '_blank');\n};\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport {fetchCheck_token} from \"../axios/requests\";\nimport {cookie} from \"../utils\";\n\n\nVue.use(Router)\n\nconst router = new Router({\n    // mode:'history',\n    routes: [\n        {\n            path: '/',\n            redirect: '/dashboard'\n        },\n        {\n            path: '/newcourse/:pid',\n            name: 'newcourse',\n            component: () => import('../components/page/Snewcourse.vue'),\n            meta: { title: '新建教学' }\n        },\n        {\n            path: '/stuworklist',\n            name: 'stuworklist',\n            component: () => import('../components/page/Sstuworklist.vue'),\n            meta: { title: '课程教学' }\n        },\n        {\n            path: '/workdetail',\n            name: 'workdetail',\n            component: () => import('../components/page/Sworkdetail.vue'),\n            meta: { title: '学生作业' }\n        },\n        {\n            path: '/newworks',\n            name: 'newworks',\n            component: () => import('../components/page/Snewworks.vue'),\n            meta: { title: '新建作业' }\n        },\n        {\n            path: '/stuwork',\n            name: 'Tstuwork',\n            component: () => import('../components/page/Tstuwork.vue'),\n            meta: { title: '课程设计' }\n        },\n        {\n            path: '/',\n            component: () => import('../components/common/Home.vue'),\n            meta: { title: '自述文件' },\n            children: [\n                {\n                    path: '/dashboard',\n                    component: () => import('../components/page/Dashboard.vue'),\n                    meta: { title: '系统首页' }\n                },\n                {\n                    path: '/course',\n                    component: () => import('../components/page/Scourse.vue'),\n                    meta: { title: '课程设计' }\n                },\n                \n                {\n                    path: '/works',\n                    component: () => import('../components/page/Sworks.vue'),\n                    meta: { title: '作业列表' }\n                },\n                \n                {\n                    path: '/datas',\n                    component: () => import('../components/page/Sdatas.vue'),\n                    meta: { title: '基础资料' }\n                },\n                {\n                    path: '/message',\n                    component: () => import('../components/page/Smessage.vue'),\n                    meta: { title: '消息中心' }\n                },\n                {\n                    path: '/stumanage',\n                    component: () => import('../components/page/Astumanage.vue'),\n                    meta: { title: '学生管理' }\n                },\n                {\n                    path: '/teachermanage',\n                    component: () => import('../components/page/Ateachermanage.vue'),\n                    meta: { title: '教师管理' }\n                },\n                {\n                    path: '/admin',\n                    component: () => import('../components/page/Aadmin.vue'),\n                    meta: { title: '管理员管理' }\n                },\n                {\n                    path: '/schoolmanage',\n                    component: () => import('../components/page/Aschoolmanage.vue'),\n                    meta: { title: '学校组织管理' }\n                },\n                \n                {\n                    path: '/stucourse',\n                    component: () => import('../components/page/Tstucourse.vue'),\n                    meta: { title: '作业详情' }\n                },\n                {\n                    path: '/stumessage',\n                    component: () => import('../components/page/Tstumessage.vue'),\n                    meta: { title: '消息中心' }\n                }\n            ]\n        },\n        {\n            path: '/login',\n            component: () => import(/* webpackChunkName: \"login\" */ '../components/page/Login.vue'),\n            meta: { title: '学生登录' }\n        },{\n            path: '/login1',\n            component: () => import(/* webpackChunkName: \"login\" */ '../components/page/Login1.vue'),\n            meta: { title: '教师登录' }\n        },{\n            path: '/login2',\n            component: () => import(/* webpackChunkName: \"login\" */ '../components/page/Login2.vue'),\n            meta: { title: '管理员登录' }\n        },\n        {\n            path: '*',\n            redirect: '/404'\n        }\n    ]\n})\n\nconst getTitle = (title, requireAuth, keywordsType) => {\n    document.title = title ? title : '查专利查商标,就上知险查';\n};\n\nrouter.beforeEach(async (to, from, next) => {\n  let {title, requireAuth, keywordsType} = to.meta;\n  let userToken = cookie.getCookie('access_token') ? cookie.getCookie('access_token') : '';\n  if (requireAuth) {\n    console.log('路由需要认证');\n\n    if (userToken) {\n      try {\n        let response = await fetchCheck_token(userToken);\n        console.log(response);\n        if (response.user_name) {\n          console.log('路由认证成功');\n\n          getTitle(title, requireAuth, keywordsType);\n          next();\n        } else {\n          console.log('路由认证失败，身份认证过期,请重新登陆');\n\n          alert('身份认证过期,请重新登陆');\n          router.replace({path: '/login'});\n        }\n      } catch (e) {\n        console.log('网络故障');\n\n        console.log(e);\n        router.replace({path: '/login'});\n      }\n    } else {\n      alert('您没有登录');\n      router.replace({path: '/login'});\n    }\n  } else {\n    console.log('路由不需要认证');\n\n    getTitle(title, requireAuth, keywordsType);\n    next();\n  }\n});\n\nexport default router;\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","var cookie = {\n  setCookie(c_name, value, expiredays) {\n    var exdate = new Date();\n    exdate.setTime(exdate.getTime() + expiredays);\n    exdate.setDate(exdate.getDate() + expiredays);\n    document.cookie = c_name + \"=\" + escape(value) + ((expiredays == null) ? \"\" : \";expires=\" + exdate.toGMTString())+\";path=/\";\n  },\n  getCookie(name) {\n    var arr, reg = new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\");\n    if (document.cookie.match(reg))\n      return (document.cookie.match(reg)[2]);\n    else\n      return null;\n  },\n  delCookie(name) { \n    var exp = new Date();\n    exp.setTime(exp.getTime() - 1);\n    var cval = cookie.getCookie(name);\n    if (cval != null)\n      document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n  }\n};\n\nexport default cookie;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/cookie.js","/* \n* @Author: Marte\n* @Date:   2019-10-15 16:32:48\n* @Last Modified by:   Marte\n* @Last Modified time: 2019-10-21 15:04:34\n*/\n\nimport axios from \"axios\";\nimport router from \"../router\";\nimport qs from \"qs\";\nimport cookie from \"../utils/cookie\";\n\nconst instance = axios.create();\n\nlet userToken = cookie.getCookie('userToken') ? cookie.getCookie('userToken') : '';\n\n// 请求队列 \nconst queue = [];\n// axios内置的中断ajax的方法\nconst cancelToken = axios.CancelToken;\n// 拼接请求的url和方法，同样的url+方法可以视为相同的请求\nconst token = (config) => (`${config.url}_${config.method}`);\n// 中断重复的请求，并从队列中移除\nconst removeQueue = (config) => {\n  let i = queue.map(q => q.token).indexOf(token(config));\n  if (i > -1) {\n    queue[i].cancel();\n    queue.splice(i, 1);\n  }\n};\n\n//添加请求拦截器\ninstance.interceptors.request.use((config, responseType) => {\n  removeQueue(config); // 中断之前的同名请求\n  // 添加cancelToken\n  config.cancelToken = new cancelToken((c) => {\n    queue.push({token: token(config), cancel: c});\n  });\n\n  config.headers.Authorization = 'Basic Y3Jtc3lzdGVtOnpnZ2NybQ==';\n\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n//添加响应拦截器\ninstance.interceptors.response.use(response => {\n    // 在请求完成后，自动移出队列\n    let url = response.config.url;\n    removeQueue(response.config);\n\n    if (response.data.code === 303) {\n      console.log('请求认证失败，身份认证过期,请重新登陆');\n\n      alert('身份认证过期,请重新登陆');\n      router.replace({path: '/login'});\n    }\n    return response.data;\n\n  },error => {\n\n    if (!error.response) {\n      return Promise.reject({\n        msg: '网络连接超时',\n        error,\n        code: 400\n      });\n    }\n\n    switch (error.response.status) {\n      case 401:\n        alert('您没有登录');\n        router.replace({path: '/login'});\n        break;\n      case 403:\n        alert('您没有该操作权限');\n        break;\n      case 500:\n        alert('服务器错误');\n        break;\n    }\n    return Promise.reject(error.response.data);\n  }\n);\n\n/**\n * 封装后的ajax post方法\n *\n * @param {string} url 请求路径\n * @param {object} data 请求参数\n * @param {object} config 用户自定义设置\n * @returns\n */\nexport const post = (url, data, config = {\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded'\n  }\n}) => {\n  return instance.post(url, qs.stringify(data), config);\n};\n\n/**\n * 封装后的ajax get方法\n *\n * @param {string} url 请求路径\n * @param {object} params 请求参数\n * @param {object} config 用户自定义设置\n * @returns\n */\nexport const get = (url, params, config = {\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}) => {\n  return instance.get(url, {params}, config);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/axios/index.js","\nimport {post, get} from \".\";\n\n// const httpProxyApi = '/manage/http_proxy/http_proxy';\nconst loginApi = '/user/login';\nconst check_tokenApi = '/auth/oauth/check_token';\nconst findUserApi = '/user/findUser';\nconst findUserInfoApi = '/user/findUserInfo';\nconst accessControlApi = '/user/accessControl';\nconst addRecordApi = '/user/addRecord';\nconst updateRemarkApi = '/user/updateRemark';\nconst findlogmanagementApi = '/user/findlogmanagement';\nconst findDepartApi = '/department/findDepart';\nconst editusersApi = '/user/editusers';\n\n\n// export const fetchHttpProxyApi = ((url, method, data) => (get(httpProxyApi, {url, method, data})));\n\nexport const fetchLogin = (username) => (\n  post(loginApi, {username}));\n\nexport const fetchCheck_token = (token) => (post(check_tokenApi, {token}));\n\nexport const fetchFindUser = (pageStart, pageSize, express, status, authState, deptIds) => (\n  post(findUserApi, {pageStart, pageSize, express, status, authState, deptIds}));\n\nexport const fetchFindUserInfo = (userid) => (post(findUserInfoApi, {userid}));\n\nexport const fetchAccessControl = (userid, on_off) => (post(accessControlApi, {userid, on_off}));\n\nexport const fetchAddRecord = (userid, remark, beginAuthTime, endAuthTime) => (post(addRecordApi, {userid, remark, beginAuthTime, endAuthTime}));\n\nexport const fetchUpdateRemark = (id, remark) => (post(updateRemarkApi, {id, remark}));\n\nexport const fetchFindlogmanagement = (pageStart, pageSize, flag, loginTime, logoutTime, express, userid) => (post(findlogmanagementApi, {pageStart, pageSize, flag, loginTime, logoutTime, express, userid}))\n\nexport const fetchfindDepart = (() => (get(findDepartApi, {})));\n\nexport const fetchEditusers = (uids) => (post(editusersApi, {uids}));\n\n\n// WEBPACK FOOTER //\n// ./src/axios/requests.js"],"sourceRoot":""}