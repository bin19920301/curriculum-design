webpackJsonp([19],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")(null,a,!1,function(e){n("SR92")},null,null).exports,u=n("YaEn"),i=n("zL8q"),c=n.n(i);n("tvR6");o.default.use(c.a),o.default.config.productionTip=!1,o.default.prototype.$timeChange=function(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()},o.default.prototype.$openBlank=function(e,t){var n=0===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)?u.a.resolve({name:e,params:t}):u.a.resolve({name:e,query:t});window.open(n.href,"_blank")},new o.default({el:"#app",router:u.a,components:{App:r},template:"<App/>"})},SR92:function(e,t){},YaEn:function(e,t,n){"use strict";var o=n("Xxa5"),a=n.n(o),r=n("exGp"),u=n.n(r),i=n("7+uW"),c=n("/ocq"),l=n("mrNh"),s=n("iPXC"),p=this;i.default.use(c.a);var h,m=new c.a({routes:[{path:"/",redirect:"/dashboard"},{path:"/newcourse/:pid",name:"newcourse",component:function(){return n.e(4).then(n.bind(null,"D1k3"))},meta:{title:"新建教学"}},{path:"/stuworklist",name:"stuworklist",component:function(){return n.e(8).then(n.bind(null,"Yoc9"))},meta:{title:"课程教学"}},{path:"/workdetail",name:"workdetail",component:function(){return n.e(12).then(n.bind(null,"JASZ"))},meta:{title:"学生作业"}},{path:"/newworks",name:"newworks",component:function(){return n.e(10).then(n.bind(null,"PQ+j"))},meta:{title:"新建作业"}},{path:"/stuwork",name:"Tstuwork",component:function(){return n.e(6).then(n.bind(null,"sR4F"))},meta:{title:"课程设计"}},{path:"/",component:function(){return n.e(1).then(n.bind(null,"MpTN"))},meta:{title:"自述文件"},children:[{path:"/dashboard",component:function(){return n.e(3).then(n.bind(null,"a52u"))},meta:{title:"系统首页"}},{path:"/course",component:function(){return n.e(16).then(n.bind(null,"+zsC"))},meta:{title:"课程设计"}},{path:"/works",component:function(){return n.e(14).then(n.bind(null,"eZ4f"))},meta:{title:"作业列表"}},{path:"/datas",component:function(){return n.e(5).then(n.bind(null,"01kT"))},meta:{title:"基础资料"}},{path:"/message",component:function(){return n.e(17).then(n.bind(null,"ESpO"))},meta:{title:"消息中心"}},{path:"/stumanage",component:function(){return n.e(11).then(n.bind(null,"/h0v"))},meta:{title:"学生管理"}},{path:"/teachermanage",component:function(){return n.e(9).then(n.bind(null,"9lLx"))},meta:{title:"教师管理"}},{path:"/admin",component:function(){return n.e(7).then(n.bind(null,"qwQf"))},meta:{title:"管理员管理"}},{path:"/schoolmanage",component:function(){return n.e(2).then(n.bind(null,"bxHJ"))},meta:{title:"学校组织管理"}},{path:"/stucourse",component:function(){return n.e(13).then(n.bind(null,"pM77"))},meta:{title:"作业详情"}},{path:"/stumessage",component:function(){return n.e(15).then(n.bind(null,"xXVx"))},meta:{title:"消息中心"}}]},{path:"/login",component:function(){return n.e(0).then(n.bind(null,"GF4k"))},meta:{title:"学生登录"}},{path:"/login1",component:function(){return n.e(0).then(n.bind(null,"J7Iy"))},meta:{title:"教师登录"}},{path:"/login2",component:function(){return n.e(0).then(n.bind(null,"7qRk"))},meta:{title:"管理员登录"}},{path:"*",redirect:"/404"}]}),f=function(e,t,n){document.title=e||"查专利查商标,就上知险查"};m.beforeEach((h=u()(a.a.mark(function e(t,n,o){var r,u,i,c,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.meta,u=r.title,i=r.requireAuth,r.keywordsType,c=s.a.getCookie("access_token")?s.a.getCookie("access_token"):"",!i){e.next=24;break}if(console.log("路由需要认证"),!c){e.next=20;break}return e.prev=5,e.next=8,Object(l.a)(c);case 8:h=e.sent,console.log(h),h.user_name?(console.log("路由认证成功"),f(u),o()):(console.log("路由认证失败，身份认证过期,请重新登陆"),alert("身份认证过期,请重新登陆"),m.replace({path:"/login"})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("网络故障"),console.log(e.t0),m.replace({path:"/login"});case 18:e.next=22;break;case 20:alert("您没有登录"),m.replace({path:"/login"});case 22:e.next=27;break;case 24:console.log("路由不需要认证"),f(u),o();case 27:case"end":return e.stop()}},e,p,[[5,13]])})),function(e,t,n){return h.apply(this,arguments)}));t.a=m},iPXC:function(e,t,n){"use strict";var o={setCookie:function(e,t,n){var o=new Date;o.setTime(o.getTime()+n),o.setDate(o.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+o.toGMTString())+";path=/"},getCookie:function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return document.cookie.match(t)?document.cookie.match(t)[2]:null},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-1),null!=o.getCookie(e)&&(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}};t.a=o},mrNh:function(e,t,n){"use strict";var o=n("//Fk"),a=n.n(o),r=n("mtWM"),u=n.n(r),i=n("YaEn"),c=n("mw3O"),l=n.n(c),s=n("iPXC"),p=u.a.create(),h=(s.a.getCookie("userToken")&&s.a.getCookie("userToken"),[]),m=u.a.CancelToken,f=function(e){return e.url+"_"+e.method},d=function(e){var t=h.map(function(e){return e.token}).indexOf(f(e));t>-1&&(h[t].cancel(),h.splice(t,1))};p.interceptors.request.use(function(e,t){return d(e),e.cancelToken=new m(function(t){h.push({token:f(e),cancel:t})}),e.headers.Authorization="Basic Y3Jtc3lzdGVtOnpnZ2NybQ==",e},function(e){return a.a.reject(e)}),p.interceptors.response.use(function(e){e.config.url;return d(e.config),303===e.data.code&&(console.log("请求认证失败，身份认证过期,请重新登陆"),alert("身份认证过期,请重新登陆"),i.a.replace({path:"/login"})),e.data},function(e){if(!e.response)return a.a.reject({msg:"网络连接超时",error:e,code:400});switch(e.response.status){case 401:alert("您没有登录"),i.a.replace({path:"/login"});break;case 403:alert("您没有该操作权限");break;case 500:alert("服务器错误")}return a.a.reject(e.response.data)});var g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:{"Content-Type":"application/x-www-form-urlencoded"}};return p.post(e,l.a.stringify(t),n)};n.d(t,"b",function(){return k}),n.d(t,"a",function(){return b});var k=function(e){return g("/user/login",{username:e})},b=function(e){return g("/auth/oauth/check_token",{token:e})}},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e9c8a825b482109db4e1.js.map