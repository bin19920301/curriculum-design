{"version":3,"sources":["webpack:///src/components/page/Snewworks.vue","webpack:///./src/components/page/Snewworks.vue?ccb2","webpack:///./src/components/page/Snewworks.vue"],"names":["Snewworks","name","data","text","types","loading","loading1","editVisible","checked","tableData","options","value","fileIdList","answerList","chooselist","type","desc","downurls","mounted","this","axios","$route","params","Getallfolder","Getworkprojectinfo","methods","handleEdit","index","row","console","log","handleSelectionChange","e","savechoose","newfileIdList","concat","arr2","filter","x","self","arrids","forEach","item","i","push","id","indexOf","newanswerList","deldataone","splice","modifyStuList","savedata","Addworkproject","Updateworkproject","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","referenceSolutionList","response","wrap","_context","prev","next","$message","error","abrupt","length","String","map","d","$loading","lock","spinner","Object","requests","sent","status","code","message","description","t0","close","finish","stop","_this2","_callee2","_context2","GetFileByFolderId","folderId","_this3","_callee3","_context3","pageNum","pageSize","result","list","_this4","_callee4","_context4","filelist","_this5","_callee5","_context5","page_Snewworks","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","_s","directives","rawName","expression","ref","label-width","label","size","model","callback","$$v","rows","_l","target","href","url","on","click","$event","title","visible","width","update:visible","placeholder","change","key","staticStyle","tooltip-effect","height","selection-change","prop","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.56d6d8921a89da53fcc4.js","sourcesContent":["<template>\r\n    <div class=\"newworks\">\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-calendar\"></i> 作业项目\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>{{text}}</el-breadcrumb-item>\r\n            </el-breadcrumb> \r\n        </div>\r\n        <div class=\"container\" v-loading=\"loading1\">\r\n            <div class=\"form\">\r\n                <el-form ref=\"form\" label-width=\"110px\">\r\n                    <el-form-item label=\"作业名称：\"> \r\n                        <el-input size=\"small\" v-model=\"name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"简介：\">\r\n                        <el-input  size=\"small\" type=\"textarea\" rows=\"5\" v-model=\"desc\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"资料：\">\r\n                      <div class=\"data-out\">\r\n                        <p class=\"data-bg\" v-for=\"(item, index) in fileIdList\">\r\n                          <a target=\"_blank\" :href=\"downurls+item.url\"><span>{{item.name}}</span></a>\r\n                          <i class=\"deldata el-icon-delete\" @click=\"deldataone(0,index)\"></i>\r\n                        </p>\r\n                        <el-button size=\"mini\" @click=\"modifyStuList(0)\">添加资料</el-button>\r\n                      </div>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"参考答案：\">\r\n                      <div class=\"data-out\">\r\n                        <p class=\"data-bg\" v-for=\"(item, index) in answerList\">\r\n                          <a target=\"_blank\" :href=\"downurls+item.url\"><span>{{item.name}}</span></a>\r\n                          <i class=\"deldata el-icon-delete\" @click=\"deldataone(1,index)\"></i>\r\n                        </p>\r\n                        <el-button size=\"mini\" @click=\"modifyStuList(1)\">添加资料</el-button>\r\n                      </div>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"savedata\">保 存</el-button>\r\n                        <!-- <el-button size=\"small\" @click=\"editVisible = false\">取 消</el-button> -->\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n        <!-- 编辑弹出框 -->\r\n        <el-dialog title=\"添加资料\" :visible.sync=\"editVisible\" width=\"500px\" v-loading=\"loading\">\r\n            <div class=\"select-bg\">\r\n                <span>选择文件夹：</span>\r\n                <el-select v-model=\"value\" @change=\"GetFileByFolderId\" size=\"small\" placeholder=\"请选择\">\r\n                    <el-option\r\n                      v-for=\"item in options\"\r\n                      :key=\"item.id\"\r\n                      :label=\"item.name\"\r\n                      :value=\"item.id\">\r\n                    </el-option>\r\n                </el-select>\r\n            </div>\r\n            <el-table\r\n                size=\"mini\"\r\n                ref=\"multipleTable\"\r\n                class=\"editlist\"\r\n                :data=\"tableData\"\r\n                tooltip-effect=\"dark\"\r\n                height=\"300px\"\r\n                style=\"width: 100%\"\r\n                @selection-change=\"handleSelectionChange\">\r\n                <el-table-column\r\n                  type=\"selection\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"name\"\r\n                  label=\"全选\">\r\n                </el-table-column>\r\n              </el-table>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" @click=\"editVisible = false\">取 消</el-button>\r\n                <el-button size=\"small\" type=\"primary\" @click=\"savechoose\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {fetchGetworkprojectlist, fetchGetallfolder, fetchGetFileByFolderId, fetchAddworkproject, fetchGetworkprojectinfo, fetchUpdateworkproject} from '../../axios/requests'\r\nimport {downurl} from '../../axios/index'\r\nexport default {\r\n    name: 'course',\r\n    data() {\r\n        return {\r\n            text:'新建作业项目',\r\n            types:'',\r\n\r\n            loading:false,\r\n            loading1:false,\r\n            editVisible:false,\r\n            checked:false,\r\n            tableData: [],\r\n            options: [],\r\n\r\n            value: '',\r\n            fileIdList:[],\r\n            answerList:[],\r\n            chooselist:[],\r\n            type:0,\r\n            name:'',\r\n            desc:'',\r\n            downurls:'',\r\n        };\r\n    },\r\n    mounted(){\r\n      this.downurls = downurl;\r\n      let {type} = this.$route.params;\r\n      this.types = type;\r\n      this.Getallfolder()\r\n      if (type!=0) {\r\n        this.Getworkprojectinfo(type);\r\n        this.text=\"编辑作业项目\"\r\n      };\r\n    },\r\n    methods: {\r\n        handleEdit(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleSelectionChange(e){\r\n          // let data = e.map(d => d.id);\r\n          this.chooselist = e;\r\n        },\r\n        savechoose(){\r\n          if (this.type==0) {\r\n            var newfileIdList=this.chooselist.concat(this.fileIdList)\r\n            var arr2 = newfileIdList.filter((x, index,self)=>{\r\n              var arrids = []\r\n              newfileIdList.forEach((item,i) => {\r\n                arrids.push(item.id)\r\n              })\r\n              return arrids.indexOf(x.id) === index\r\n            }) \r\n            this.fileIdList = arr2\r\n          }else{\r\n            var newanswerList=this.chooselist.concat(this.answerList);\r\n            var arr2 = newanswerList.filter((x, index,self)=>{\r\n              var arrids = []\r\n              newanswerList.forEach((item,i) => {\r\n                arrids.push(item.id)\r\n              })\r\n              return arrids.indexOf(x.id) === index\r\n            }) \r\n            this.answerList = arr2\r\n          }\r\n          this.chooselist=[]\r\n          this.editVisible = false;\r\n        },\r\n        // 删除操作\r\n        deldataone(type,index) {\r\n            if (type==0) {\r\n                  this.fileIdList.splice(index, 1);\r\n                }else{\r\n                  this.answerList.splice(index, 1);\r\n                }\r\n            // this.$confirm('确定要删除吗？', '提示', {\r\n            //     type: 'warning'\r\n            // })\r\n            // .then(() => {\r\n            //     // this.$message.success('删除成功');\r\n\r\n                \r\n            // })\r\n            // .catch(() => {});\r\n        },\r\n        modifyStuList(type){\r\n            this.editVisible = true;\r\n            this.type=type;\r\n        },\r\n\r\n        savedata(){\r\n          if (this.types==0) {\r\n            this.Addworkproject()\r\n          }else{\r\n            this.Updateworkproject()\r\n          }\r\n        },\r\n\r\n        async Updateworkproject(){//修改作业项目\r\n          let {types, name, desc, fileIdList, answerList} = this;\r\n          if (!name) {this.$message.error('作业名称不能为空');return};\r\n          if (!desc) {this.$message.error('简介不能为空');return};\r\n          if (fileIdList.length==0) {this.$message.error(\"资料不能为空\");return};\r\n          if (answerList.length==0) {this.$message.error(\"参考答案不能为空\");return};\r\n          let newfileIdList = String(fileIdList.map(d => d.id));\r\n          let referenceSolutionList = String(answerList.map(d => d.id));\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            text: '加载中...',\r\n            spinner: 'el-icon-loading'\r\n          });\r\n          try {\r\n            let response = await fetchUpdateworkproject(types, name, desc, newfileIdList, referenceSolutionList);\r\n            if (response.status.code ==0) {\r\n              this.$message({\r\n                message: '修改成功',\r\n                type: 'success'\r\n              });\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            loading.close()\r\n          }\r\n        },\r\n\r\n        async Addworkproject(){//新建作业项目\r\n          let {name, desc, fileIdList, answerList} = this;\r\n          if (!name) {this.$message.error('作业名称不能为空');return};\r\n          if (!desc) {this.$message.error('简介不能为空');return};\r\n          if (fileIdList.length==0) {this.$message.error(\"资料不能为空\");return};\r\n          if (answerList.length==0) {this.$message.error(\"参考答案不能为空\");return};\r\n          let newfileIdList = String(fileIdList.map(d => d.id));\r\n          let referenceSolutionList = String(answerList.map(d => d.id));\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            text: '加载中...',\r\n            spinner: 'el-icon-loading'\r\n          });\r\n          try {\r\n            let response = await fetchAddworkproject(name, desc, newfileIdList, referenceSolutionList);\r\n            if (response.status.code ==0) {\r\n              this.$message({\r\n                message: '添加成功',\r\n                type: 'success'\r\n              });\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            loading.close()\r\n          }\r\n        },\r\n\r\n        async GetFileByFolderId(folderId) {//得到文件夹下文件\r\n          this.loading = true;\r\n          try {\r\n            let response = await fetchGetFileByFolderId(this.pageNum, this.pageSize, folderId);\r\n            if (response.status.code ==0) {\r\n              this.tableData = response.result.list;\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            this.loading = false;\r\n          }\r\n        },\r\n\r\n        async Getworkprojectinfo(id) {//得到作业详情\r\n          this.loading1 = true;\r\n          try {\r\n            let response = await fetchGetworkprojectinfo(id);\r\n            if (response.status.code ==0) {\r\n              this.name = response.result.name;\r\n              this.desc = response.result.desc;\r\n              this.fileIdList = response.result.filelist;\r\n              this.answerList = response.result.referenceSolutionList;\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            this.loading1 = false;\r\n          }\r\n        },\r\n        \r\n        async Getallfolder() {//得到所有文件夹\r\n          this.loading = true;\r\n          try {\r\n            let response = await fetchGetallfolder();\r\n            if (response.status.code ==0) {\r\n              this.options = response.result.list;\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            this.loading = false;\r\n          }\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang='scss'>\r\n\r\n</style>\r\n\r\n<style lang='scss' scoped>\r\n    .newworks{\r\n      .crumbs{\r\n          padding-left:20px;\r\n        }\r\n        .stu-list{\r\n            border:1px solid #ccc;\r\n        }\r\n        .data-out{\r\n          padding-top:10px;\r\n        }\r\n        .data-bg{\r\n          font-size:12px;\r\n          line-height:24px;\r\n          color:#666;\r\n          .deldata{\r\n            cursor:pointer;\r\n            margin-left:20px;\r\n            color:#f56c6c;\r\n            font-size:14px;\r\n          }\r\n        }\r\n        .stunumber{\r\n            padding:10px 0;\r\n            color:#666;\r\n            span{\r\n                margin-right:40px;\r\n            }\r\n        }\r\n        .editlist{\r\n            margin-top:20px;\r\n            border:1px solid #eee;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/Snewworks.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"newworks\"},[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-calendar\"}),_vm._v(\" 作业项目\\n            \")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.text))])],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}],staticClass:\"container\"},[_c('div',{staticClass:\"form\"},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"作业名称：\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"简介：\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"textarea\",\"rows\":\"5\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"资料：\"}},[_c('div',{staticClass:\"data-out\"},[_vm._l((_vm.fileIdList),function(item,index){return _c('p',{staticClass:\"data-bg\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.downurls+item.url}},[_c('span',[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),_c('i',{staticClass:\"deldata el-icon-delete\",on:{\"click\":function($event){return _vm.deldataone(0,index)}}})])}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.modifyStuList(0)}}},[_vm._v(\"添加资料\")])],2)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"参考答案：\"}},[_c('div',{staticClass:\"data-out\"},[_vm._l((_vm.answerList),function(item,index){return _c('p',{staticClass:\"data-bg\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.downurls+item.url}},[_c('span',[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),_c('i',{staticClass:\"deldata el-icon-delete\",on:{\"click\":function($event){return _vm.deldataone(1,index)}}})])}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.modifyStuList(1)}}},[_vm._v(\"添加资料\")])],2)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.savedata}},[_vm._v(\"保 存\")])],1)],1)],1)]),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"title\":\"添加资料\",\"visible\":_vm.editVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('div',{staticClass:\"select-bg\"},[_c('span',[_vm._v(\"选择文件夹：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.GetFileByFolderId},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticClass:\"editlist\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"data\":_vm.tableData,\"tooltip-effect\":\"dark\",\"height\":\"300px\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"全选\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.savechoose}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6aef4788\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/Snewworks.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6aef4788\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Snewworks.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6aef4788\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Snewworks.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Snewworks.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Snewworks.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6aef4788\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Snewworks.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6aef4788\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/Snewworks.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}