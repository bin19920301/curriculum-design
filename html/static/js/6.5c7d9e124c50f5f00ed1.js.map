{"version":3,"sources":["webpack:///src/components/page/Snewworks.vue","webpack:///./src/components/page/Snewworks.vue?9833","webpack:///./src/components/page/Snewworks.vue"],"names":["Snewworks","name","data","text","types","loading","loading1","editVisible","checked","tableData","options","value","fileIdList","chooselist","desc","mounted","type","this","$route","params","Getallfolder","Getworkprojectinfo","methods","handleEdit","index","row","console","log","handleSelectionChange","e","savechoose","deldataone","_this","$confirm","then","$message","success","splice","catch","modifyStuList","savedata","Addworkproject","Updateworkproject","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","newfileIdList","response","wrap","_context","prev","next","error","abrupt","length","String","map","d","id","$loading","lock","spinner","Object","requests","sent","status","code","message","description","t0","close","finish","stop","_this3","_callee2","_context2","GetFileByFolderId","folderId","_this4","_callee3","_context3","pageNum","pageSize","result","list","_this5","_callee4","_context4","filelist","_this6","_callee5","_context5","page_Snewworks","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","_s","directives","rawName","expression","ref","label-width","label","size","model","callback","$$v","rows","_l","item","on","click","$event","title","visible","width","update:visible","placeholder","change","key","staticStyle","tooltip-effect","height","selection-change","prop","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.5c7d9e124c50f5f00ed1.js","sourcesContent":["<template>\r\n    <div class=\"newworks\">\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-calendar\"></i> 作业项目\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>{{text}}</el-breadcrumb-item>\r\n            </el-breadcrumb> \r\n        </div>\r\n        <div class=\"container\" v-loading=\"loading1\">\r\n            <div class=\"form\">\r\n                <el-form ref=\"form\" label-width=\"110px\">\r\n                    <el-form-item label=\"作业名称：\"> \r\n                        <el-input size=\"small\" v-model=\"name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"简介：\">\r\n                        <el-input  size=\"small\" type=\"textarea\" rows=\"5\" v-model=\"desc\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"资料：\">\r\n                      <div class=\"data-out\">\r\n                        <p class=\"data-bg\" v-for=\"(item, index) in fileIdList\">\r\n                          <span>{{item.name}}</span>\r\n                          <i class=\"deldata el-icon-delete\" @click=\"deldataone(index)\"></i>\r\n                        </p>\r\n                        <el-button size=\"mini\" @click=\"modifyStuList\">添加资料</el-button>\r\n                      </div>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"savedata\">保 存</el-button>\r\n                        <!-- <el-button size=\"small\" @click=\"editVisible = false\">取 消</el-button> -->\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n        <!-- 编辑弹出框 -->\r\n        <el-dialog title=\"添加资料\" :visible.sync=\"editVisible\" width=\"500px\" v-loading=\"loading\">\r\n            <div class=\"select-bg\">\r\n                <span>筛选文件夹：</span>\r\n                <el-select v-model=\"value\" @change=\"GetFileByFolderId\" size=\"small\" placeholder=\"请选择\">\r\n                    <el-option\r\n                      v-for=\"item in options\"\r\n                      :key=\"item.id\"\r\n                      :label=\"item.name\"\r\n                      :value=\"item.id\">\r\n                    </el-option>\r\n                </el-select>\r\n            </div>\r\n            <el-table\r\n                size=\"mini\"\r\n                ref=\"multipleTable\"\r\n                class=\"editlist\"\r\n                :data=\"tableData\"\r\n                tooltip-effect=\"dark\"\r\n                height=\"300px\"\r\n                style=\"width: 100%\"\r\n                @selection-change=\"handleSelectionChange\">\r\n                <el-table-column\r\n                  type=\"selection\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"name\"\r\n                  label=\"全选\">\r\n                </el-table-column>\r\n              </el-table>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" @click=\"editVisible = false\">取 消</el-button>\r\n                <el-button size=\"small\" type=\"primary\" @click=\"savechoose\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {fetchGetworkprojectlist, fetchGetallfolder, fetchGetFileByFolderId, fetchAddworkproject, fetchGetworkprojectinfo, fetchUpdateworkproject} from '../../axios/requests'\r\nexport default {\r\n    name: 'course',\r\n    data() {\r\n        return {\r\n            text:'新建作业项目',\r\n            types:'',\r\n\r\n            loading:false,\r\n            loading1:false,\r\n            editVisible:false,\r\n            checked:false,\r\n            tableData: [],\r\n            options: [],\r\n\r\n            value: '',\r\n            fileIdList:[],\r\n            chooselist:[],\r\n            name:'',\r\n            desc:''\r\n        };\r\n    },\r\n    mounted(){\r\n      let {type} = this.$route.params;\r\n      this.types = type;\r\n      this.Getallfolder()\r\n      if (type!=0) {\r\n        this.Getworkprojectinfo(type);\r\n        this.text=\"编辑作业项目\"\r\n      };\r\n    },\r\n    methods: {\r\n        handleEdit(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleSelectionChange(e){\r\n          // let data = e.map(d => d.id);\r\n          this.chooselist = e;\r\n        },\r\n        savechoose(){\r\n          this.fileIdList=this.chooselist;\r\n          this.editVisible = false;\r\n        },\r\n        // 删除操作\r\n        deldataone(index, row) {\r\n            // 二次确认删除\r\n            this.$confirm('确定要删除吗？', '提示', {\r\n                type: 'warning'\r\n            })\r\n            .then(() => {\r\n                this.$message.success('删除成功');\r\n                console.log(index)\r\n                this.fileIdList.splice(index, 1);\r\n            })\r\n            .catch(() => {});\r\n        },\r\n        modifyStuList(){\r\n            this.editVisible = true;\r\n        },\r\n\r\n        savedata(){\r\n          if (this.types==0) {\r\n            this.Addworkproject()\r\n          }else{\r\n            this.Updateworkproject()\r\n          }\r\n        },\r\n\r\n        async Updateworkproject(){//修改作业项目\r\n          let {types, name, desc, fileIdList} = this;\r\n          if (!name) {this.$message.error('作业名称不能为空');return};\r\n          if (!desc) {this.$message.error('简介不能为空');return};\r\n          if (fileIdList.length==0) {this.$message.error(\"资料不能为空\");return};\r\n          let newfileIdList = String(fileIdList.map(d => d.id));\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            text: '加载中...',\r\n            spinner: 'el-icon-loading'\r\n          });\r\n          try {\r\n            let response = await fetchUpdateworkproject(types, name, desc, newfileIdList);\r\n            if (response.status.code ==0) {\r\n              this.$message({\r\n                message: '修改成功',\r\n                type: 'success'\r\n              });\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            loading.close()\r\n          }\r\n        },\r\n\r\n        async Addworkproject(){//新建作业项目\r\n          let {name, desc, fileIdList} = this;\r\n          if (!name) {this.$message.error('作业名称不能为空');return};\r\n          if (!desc) {this.$message.error('简介不能为空');return};\r\n          if (fileIdList.length==0) {this.$message.error(\"资料不能为空\");return};\r\n          let newfileIdList = String(fileIdList.map(d => d.id));\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            text: '加载中...',\r\n            spinner: 'el-icon-loading'\r\n          });\r\n          try {\r\n            let response = await fetchAddworkproject(name, desc, newfileIdList);\r\n            if (response.status.code ==0) {\r\n              this.$message({\r\n                message: '添加成功',\r\n                type: 'success'\r\n              });\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            loading.close()\r\n          }\r\n        },\r\n\r\n        async GetFileByFolderId(folderId) {//得到文件夹下文件\r\n          this.loading = true;\r\n\r\n          try {\r\n            let response = await fetchGetFileByFolderId(this.pageNum, this.pageSize, folderId);\r\n            if (response.status.code ==0) {\r\n              this.tableData = response.result.list;\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            this.loading = false;\r\n          }\r\n        },\r\n\r\n        async Getworkprojectinfo(id) {//得到作业详情\r\n          this.loading1 = true;\r\n          try {\r\n            let response = await fetchGetworkprojectinfo(id);\r\n            if (response.status.code ==0) {\r\n              this.name = response.result.name;\r\n              this.desc = response.result.desc;\r\n              this.fileIdList = response.result.filelist;\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            this.loading1 = false;\r\n          }\r\n        },\r\n        \r\n        async Getallfolder() {//得到所有文件夹\r\n          this.loading = true;\r\n          try {\r\n            let response = await fetchGetallfolder();\r\n            if (response.status.code ==0) {\r\n              this.options = response.result.list;\r\n            }else{\r\n              this.$message.error(response.status.description);\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          } finally {\r\n            this.loading = false;\r\n          }\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang='scss'>\r\n\r\n</style>\r\n\r\n<style lang='scss' scoped>\r\n    .newworks{\r\n      .crumbs{\r\n          padding-left:20px;\r\n        }\r\n        .stu-list{\r\n            border:1px solid #ccc;\r\n        }\r\n        .data-out{\r\n          padding-top:10px;\r\n        }\r\n        .data-bg{\r\n          font-size:12px;\r\n          line-height:24px;\r\n          color:#666;\r\n          .deldata{\r\n            cursor:pointer;\r\n            margin-left:20px;\r\n            color:#f56c6c;\r\n            font-size:14px;\r\n          }\r\n        }\r\n        .stunumber{\r\n            padding:10px 0;\r\n            color:#666;\r\n            span{\r\n                margin-right:40px;\r\n            }\r\n        }\r\n        .editlist{\r\n            margin-top:20px;\r\n            border:1px solid #eee;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/Snewworks.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"newworks\"},[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-calendar\"}),_vm._v(\" 作业项目\\n            \")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.text))])],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}],staticClass:\"container\"},[_c('div',{staticClass:\"form\"},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"作业名称：\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"简介：\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"textarea\",\"rows\":\"5\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"资料：\"}},[_c('div',{staticClass:\"data-out\"},[_vm._l((_vm.fileIdList),function(item,index){return _c('p',{staticClass:\"data-bg\"},[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('i',{staticClass:\"deldata el-icon-delete\",on:{\"click\":function($event){return _vm.deldataone(index)}}})])}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.modifyStuList}},[_vm._v(\"添加资料\")])],2)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.savedata}},[_vm._v(\"保 存\")])],1)],1)],1)]),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"title\":\"添加资料\",\"visible\":_vm.editVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('div',{staticClass:\"select-bg\"},[_c('span',[_vm._v(\"筛选文件夹：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.GetFileByFolderId},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticClass:\"editlist\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"data\":_vm.tableData,\"tooltip-effect\":\"dark\",\"height\":\"300px\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"全选\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.savechoose}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f902dd72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/Snewworks.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f902dd72\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Snewworks.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f902dd72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Snewworks.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Snewworks.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Snewworks.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f902dd72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Snewworks.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f902dd72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/Snewworks.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}