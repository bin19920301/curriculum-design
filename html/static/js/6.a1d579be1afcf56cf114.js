webpackJsonp([6],{dVo9:function(e,t){},qwQf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),i=a.n(r),c=a("woOf"),o=a.n(c),l=a("mrNh"),u={name:"course",data:function(){return{pageNum:1,pageSize:10,total:0,editItems:"",loading:!1,name:"",number:"",password:"",editVisible:!1,editVisible2:!1,tableData:[]}},mounted:function(){this.Getadminlist()},methods:{openLink:function(){this.$router.push({path:"newworks"})},handleEdit:function(e){this.editVisible2=!0,this.Getadminbyid(e.id)},resetpassword:function(e){var t=this;this.editItems=o()({},e),this.$confirm("确定要重置密码吗？","提示",{type:"warning"}).then(function(){t.Resetadminpassword(e.id)}).catch(function(){})},delworks:function(e){var t=this;this.$confirm("确定要删除此教师吗？","提示",{type:"warning"}).then(function(){t.Deleteadmin(e)}).catch(function(){})},changePage:function(e){this.pageNum=e,this.Getadminlist()},Addadmin:function(){var e=this;return i()(n.a.mark(function t(){var a,s,r,i,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.number,s=e.name,r=e.password,a){t.next=4;break}return e.$message.error("编号不能为空"),t.abrupt("return");case 4:if(s){t.next=8;break}return e.$message.error("姓名不能为空"),t.abrupt("return");case 8:if(r){t.next=12;break}return e.$message.error("密码不能为空"),t.abrupt("return");case 12:return i=e.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading"}),t.prev=14,t.next=17,Object(l.b)(a,s,r);case 17:0==(c=t.sent).status.code?(e.$message({message:"添加成功",type:"success"}),e.editVisible=!1,e.Getadminlist()):e.$message.error(c.status.description),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(14),console.log(t.t0);case 24:return t.prev=24,i.close(),t.finish(24);case 27:case"end":return t.stop()}},t,e,[[14,21,24,27]])}))()},Getadminlist:function(){var e=this;return i()(n.a.mark(function t(){var a,s,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,a=e.pageNum,s=e.pageSize,t.prev=2,t.next=5,Object(l.G)(a,s);case 5:0==(r=t.sent).status.code?(e.total=r.result.total,e.tableData=r.result.list):e.$message.error(r.status.description),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}},t,e,[[2,9,12,15]])}))()},Updateadmin:function(){var e=this;return i()(n.a.mark(function t(){var a,s,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e.editItems).number){t.next=4;break}return e.$message.error("编号不能为空"),t.abrupt("return");case 4:if(a.name){t.next=8;break}return e.$message.error("姓名不能为空"),t.abrupt("return");case 8:return s=e.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading"}),t.prev=10,t.next=13,Object(l._12)(a.id,a.number,a.name);case 13:0==(r=t.sent).status.code?(e.$message({message:"修改成功",type:"success"}),e.editVisible2=!1,e.Getadminlist()):e.$message.error(r.status.description),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(10),console.log(t.t0);case 20:return t.prev=20,s.close(),t.finish(20);case 23:case"end":return t.stop()}},t,e,[[10,17,20,23]])}))()},Resetadminpassword:function(e){var t=this;return i()(n.a.mark(function a(){var s,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading"}),a.prev=1,a.next=4,Object(l._2)(e);case 4:0==(r=a.sent).status.code?t.$message({message:"重置成功，密码 admin1234",type:"success"}):t.$message.error(r.status.description),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:return a.prev=11,s.close(),a.finish(11);case 14:case"end":return a.stop()}},a,t,[[1,8,11,14]])}))()},Deleteadmin:function(e){var t=this;return i()(n.a.mark(function a(){var s,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading"}),a.prev=1,a.next=4,Object(l.t)(e);case 4:0==(r=a.sent).status.code?(t.$message({message:"删除成功",type:"success"}),t.Getadminlist()):t.$message.error(r.status.description),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:return a.prev=11,s.close(),a.finish(11);case 14:case"end":return a.stop()}},a,t,[[1,8,11,14]])}))()},Getadminbyid:function(e){var t=this;return i()(n.a.mark(function a(){var s,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading"}),a.prev=1,a.next=4,Object(l.F)(e);case 4:0==(r=a.sent).status.code?t.editItems=r.result:t.$message.error(r.status.description),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:return a.prev=11,s.close(),a.finish(11);case 14:case"end":return a.stop()}},a,t,[[1,8,11,14]])}))()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sworks"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 管理员管理\n            ")])],1)],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[a("div",{staticClass:"form"},[a("div",{staticClass:"form-top"},[a("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:function(t){e.editVisible=!0}}},[e._v("创建管理员用户")])],1),e._v(" "),a("div",{staticClass:"cont"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",width:"100px",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return e.resetpassword(t.row)}}},[e._v("重置密码")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.delworks(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.changePage}})],1)],1)])]),e._v(" "),a("el-dialog",{staticClass:"datas-bg",attrs:{title:"创建管理员",visible:e.editVisible,width:"380px"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-input",{staticClass:"margin10",attrs:{size:"small",placeholder:"请输入管理员编号"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),e._v(" "),a("el-input",{staticClass:"margin10",attrs:{size:"small",placeholder:"请输入管理员姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-input",{staticClass:"margin10",attrs:{size:"small",placeholder:"请输入管理员密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("el-button",{staticStyle:{display:"block",margin:"0 auto"},attrs:{type:"primary",size:"small"},on:{click:e.Addadmin}},[e._v("确 定")])],1),e._v(" "),a("el-dialog",{staticClass:"datas-bg",attrs:{title:"编辑管理员",visible:e.editVisible2,width:"380px"},on:{"update:visible":function(t){e.editVisible2=t}}},[a("el-input",{staticClass:"margin10",attrs:{size:"small",placeholder:"请输入管理员编号"},model:{value:e.editItems.number,callback:function(t){e.$set(e.editItems,"number",t)},expression:"editItems.number"}}),e._v(" "),a("el-input",{staticClass:"margin10",attrs:{size:"small",placeholder:"请输入管理员姓名"},model:{value:e.editItems.name,callback:function(t){e.$set(e.editItems,"name",t)},expression:"editItems.name"}}),e._v(" "),a("el-button",{staticStyle:{display:"block",margin:"0 auto"},attrs:{type:"primary",size:"small"},on:{click:e.Updateadmin}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var p=a("VU/8")(u,d,!1,function(e){a("dVo9"),a("toaQ")},"data-v-fe62e61c",null);t.default=p.exports},toaQ:function(e,t){}});
//# sourceMappingURL=6.a1d579be1afcf56cf114.js.map